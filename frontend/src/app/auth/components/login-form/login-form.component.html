<form [formGroup]="loginForm" (ngSubmit)="onSubmit()" class="p-fluid">
    <div class="field">
      <p-floatlabel variant="on">
      <label for="email">Email</label>
      <input id="email" type="email" pInputText formControlName="email" />
      </p-floatlabel>
      @if(submitted && email?.invalid){
        <p-message
          severity="error"
          text="Email invalide ou requis"
        ></p-message>
      }
    </div>
  
    <div class="field">
      <p-floatlabel>
        <input 
          id="password" 
          [type]="showPassword ? 'text' : 'password'" 
          pInputText 
          formControlName="password"
        />
        <label for="password">Mot de passe</label>
        <button 
          type="button" 
          pButton 
          icon="pi pi-eye{{ showPassword ? '-slash' : '' }}" 
          (click)="togglePasswordVisibility()"
          class="p-button-text p-button-plain absolute right-0 top-50"
        ></button>
      </p-floatlabel>
      
      @if(submitted && password?.invalid) {
        <p-message severity="error" text="Mot de passe requis"></p-message>
      }
    </div>
  
    <div class="flex justify-content-between mt-4">
      <a routerLink="/forgot-password" class="p-button-text">Mot de passe oublié ?</a>
      <a routerLink="/register" class="p-button-text">Créer un compte</a>
    </div>
    
    <button type="submit" pButton label="Connexion" class="mt-3 w-full">
        <p-button label="Connexion" />
    </button>
  </form>
